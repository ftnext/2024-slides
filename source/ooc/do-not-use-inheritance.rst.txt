ã‚¯ãƒ©ã‚¹ã®ç¶™æ‰¿
======================================================================

    *ã“ã“ã§é‡çƒã‚’ã—ã¦ã¯ã„ã‘ã¾ã›ã‚“*

.. https://twitter.com/imasml_theater/status/1715897758924870031

ã€é”äººãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ã€ï¼ˆç¬¬2ç‰ˆï¼‰ã‚ˆã‚Š
--------------------------------------------------

ç¬¬5ç« ã«ã€Œã‚¤ãƒ³ãƒ˜ãƒªã‚¿ãƒ³ã‚¹ï¼ˆç›¸ç¶šï¼‰ç¨ã€

    ç¶™æ‰¿ãŒç­”ãˆã«ãªã‚‹ã“ã¨ã¯æ»…å¤šã«ãªã„ (Kindleç‰ˆ p.380)

ï¼ˆæ‰¿å‰ï¼‰ç¶™æ‰¿ã®ä»£ã‚ã‚Šã«
--------------------------------------------------

* å‹æƒ…å ±ã®å…±æœ‰ã«ã¯ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼ˆã‚„ãƒ—ãƒ­ãƒˆã‚³ãƒ«ï¼‰ã‚’
* æ©Ÿèƒ½ã®å…±æœ‰ã«ã¯ã€mixinï¼ˆã‚„traitï¼‰ã‚’

.. TODO æœ€è¿‘ã®è‡ªä½œOSSã§ã®ã‚³ãƒ¼ãƒ‰ä¾‹ã‚’ç››ã‚Šè¾¼ã‚€ã‹æ¤œè¨

ã‚ã‹ã‚‰ã‚“æ®ºã—ã•ã‚Œã¦è¨€ãˆã‚‹ã€Œæ°—è»½ã«ç¶™æ‰¿ã—ã¦ã¯ã„ã‘ã¾ã›ã‚“ã€
------------------------------------------------------------

* ä»Šã¨ãªã£ã¦ã¯ã»ã—ã‹ã£ãŸã®ã¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
* ç¶™æ‰¿ã—ã‹çŸ¥ã‚‰ãªã‹ã£ãŸã®ã§ã‚´ãƒªæŠ¼ã—ï¼šTemplate Methodãƒ‘ã‚¿ãƒ¼ãƒ³ã§ç©´åŸ‹ã‚å•é¡Œ
* ç©´åŸ‹ã‚å•é¡Œã«è½ã¨ã—è¾¼ã‚ãªã„ã‚±ãƒ¼ã‚¹ãŒå¾Œã‹ã‚‰ç™»å ´ğŸ¤¯

.. ï¼ˆPythonã§ã¯ã‚¯ãƒ©ã‚¹ã®ç¶™æ‰¿ã§ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’è¡¨ã™éƒ¨åˆ†ã®ç†è§£ä¸è¶³ã‚‚ã‚ã‚Šã¾ã™ï¼‰

æ©Ÿèƒ½ã®è¿½åŠ ã«ã¯ã€å§”è­²ã‚’
------------------------------------------------------------

* ä¾‹ï¼šç›´è¿‘å…¬é–‹ã—ãŸOSS kurenaiï¼ˆç´…ï¼‰
* google-researchã®rouge-scoreã®ãƒ©ãƒƒãƒ‘ãƒ¼
* ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æ—¥æœ¬èªãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰ã‚‚ROUGEã¨ã„ã†æŒ‡æ¨™ã‚’ç®—å‡ºã—ãŸã„

rouge-scoreã¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æƒãˆã¤ã¤ã€æ—¥æœ¬èªå¯¾å¿œã¨ã„ã†æ©Ÿèƒ½è¿½åŠ 
----------------------------------------------------------------------

.. code-block:: pycon
    :emphasize-lines: 5-8

    >>> from rouge_score.rouge_scorer import RougeScorer
    >>> scorer = RougeScorer(["rouge1"])
    >>> scorer.score('ã„ã¬ ã­ã“', 'ã„ã¬ ã­ã“')
    {'rouge1': Score(precision=0.0, recall=0.0, fmeasure=0.0)}
    >>> from kurenai.rouge_scorer import RougeScorer
    >>> scorer = RougeScorer(["rouge1"])
    >>> scorer.score('ã„ã¬ ã­ã“', 'ã„ã¬ ã­ã“')
    {'rouge1': Score(precision=1.0, recall=1.0, fmeasure=1.0)}

rouge-score.RougeScorerã®ç¶™æ‰¿ã§ãªãã€ **å§”è­²** ã™ã‚‹
----------------------------------------------------------------------

.. code-block:: python

    class RougeScorer(BaseScorer):  # æœ¬å®¶RougeScorerã¨åŒã˜ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼ˆscoreãƒ¡ã‚½ãƒƒãƒ‰æŒã¤ï¼‰
        def __init__(self, rouge_types: list[str]) -> None:
            self._scorer = OriginalRougeScorer(
                rouge_types, tokenizer=AllCharacterSupportTokenizer()
            )

        def score(self, target, prediction):  # å§”è­²ã«ã‚ˆã‚‹å®Ÿè£…
            return self._scorer.score(target, prediction)

https://github.com/ftnext/kurenai/blob/v0.0.1/src/kurenai/rouge_scorer.py#L9-L16
