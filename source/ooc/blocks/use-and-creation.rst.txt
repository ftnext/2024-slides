3ï¸âƒ£ä½œã‚‹ã¨ä½¿ã†ã‚’ **åˆ†ã‘ã‚‹**
======================================================================

åˆ†ã‘ã¦å°ã•ãã€æ‹¡å¼µã—ã‚„ã™ã

ä½œã‚‹ã¨ä½¿ã†ãŒä¸€ä½“ã¨ãªã£ãŸå‡¦ç†ï¼ˆæ‚ªã—ãä¾‹ï¼‰
--------------------------------------------------

.. code-block:: python

    def fetch_awesome() -> AwesomeData:
        client = AwesomeAPIClient()
        raw_data = client.get(...)  # ãƒ‘ãƒ©ãƒ¡ã‚¿ã‚’æ¸¡ã—ã¦ãƒ‡ãƒ¼ã‚¿å–å¾—
        return AwesomeData.from_(raw_data)

å°‘ã—å¾Œã«ãªã£ã¦
--------------------------------------------------

* ã€ŒAwesome APIã€v1ã§ä½¿ã£ã¦ããŸã‘ã©ã€v2ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¦ã‚‹ï¼ã€
* ã€Œv1ã¯ ``fetch_awesome()`` ã§å©ã„ã¦ãŸãªã€‚v2ã‚‚å©ã‘ã‚‹ï¼Ÿã€
* ã€Œã„ã‚„ã€åˆ¥ã«é–¢æ•°ä½œã£ãŸã»ã†ãŒã„ã„ã‹ãƒ¼ã€

çˆ†èª•ã™ã‚‹ä¼¼ãŸå‡¦ç†
--------------------------------------------------

.. code-block:: python

    def fetch_awesome_v2() -> AwesomeData:
        client = AwesomeAPIV2Client()
        raw_data = client.get(...)
        return AwesomeData.from_(raw_data)

``client`` ã®ä½¿ã„æ–¹ã¯åŒã˜ã¨å˜ç´”åŒ–ã—ã¦ã¾ã™

ä½œã‚‹ã¨ä½¿ã†ãŒä¸€ä½“ã®é–¢æ•°ã‚’æ›¸ã„ã¦ã„ãŸç§ã¸
--------------------------------------------------

* v3ãŒå‡ºãŸã‚‰ã€ã¾ãŸå¢—ã‚„ã—ã¾ã™ã‹ï¼Ÿ
* ``AwesomeData`` ã¸ã®å¤‰æ›ã¯å¤‰ã‚ã£ã¦ã„ãªã„ã€‚ ``fetch_awesome()`` ã®æ‹¡å¼µã§æ¸ˆã¾ãªã„ã®ã¯ã©ã†ã—ã¦ï¼Ÿ

å®Ÿã¯ãƒ†ã‚¹ãƒˆã‚‚æ›¸ãã¥ã‚‰ã‹ã£ãŸ
--------------------------------------------------

.. code-block:: python

    @patch("......AwesomeAPIClient")
    def test_fetch_awesome(AwesomeAPIClient):  # ãƒ¢ãƒƒã‚¯ã«ã™ã‚‹
        actual = fetch_awesome()

        AwesomeAPIClient.assert_called_once_with()
        AwesomeAPIClient.get.assert_called_once_with(...)

å®Ÿéš›ã® ``AwesomeAPIClient`` ãŒå®Ÿè¡Œã•ã‚Œãªã„ã‚ˆã†ã«ã—ã¦ã„ã¾ã™

ğŸ§­ä½¿ç”¨ã¨ç”Ÿæˆã®åˆ†é›¢
--------------------------------------------------

* ã€ã¡ã‚‡ã†ãœã¤æœ¬ã€ç¬¬7ç« 
* ä½œã‚‹ã¨ä½¿ã†ã‚’ **åˆ†ã‘ã‚ˆã†**

WIP
--------------------------------------------------
